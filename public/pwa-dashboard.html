<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PWA –¶–µ–Ω—Ç—Ä —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è - –û–±—ä–µ–∫—Ç+</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.2/font/bootstrap-icons.min.css">
    <style>
        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
        }

        .container {
            max-width: 1000px;
        }

        .header {
            text-align: center;
            color: white;
            margin-bottom: 40px;
            padding-top: 20px;
        }

        .header h1 {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 10px;
        }

        .header p {
            opacity: 0.9;
            font-size: 1.1rem;
        }

        .card {
            background: white;
            border: none;
            border-radius: 16px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
            margin-bottom: 20px;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .card:hover {
            transform: translateY(-4px);
            box-shadow: 0 12px 40px rgba(0, 0, 0, 0.3);
        }

        .card-body {
            padding: 30px;
        }

        .card-icon {
            font-size: 3rem;
            margin-bottom: 15px;
            display: block;
        }

        .card-title {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 10px;
            color: #333;
        }

        .card-text {
            color: #666;
            margin-bottom: 20px;
        }

        .btn-custom {
            border-radius: 50px;
            padding: 12px 30px;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .btn-primary-custom {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border: none;
            color: white;
        }

        .btn-primary-custom:hover {
            transform: scale(1.05);
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.5);
        }

        .badge-custom {
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 600;
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 1.8rem;
            }

            .card-body {
                padding: 20px;
            }

            .features-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üéâ PWA –¶–µ–Ω—Ç—Ä —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è</h1>
            <p>–í–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ "–û–±—ä–µ–∫—Ç+" –≥–æ—Ç–æ–≤–æ –∫ —É—Å—Ç–∞–Ω–æ–≤–∫–µ!</p>
        </div>

        <!-- –ì–ª–∞–≤–Ω–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞ -->
        <div class="card text-center">
            <div class="card-body">
                <span class="card-icon">üöÄ</span>
                <h2 class="card-title">PWA –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å–æ–∑–¥–∞–Ω–æ!</h2>
                <p class="card-text">
                    –¢–µ–ø–µ—Ä—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å "–û–±—ä–µ–∫—Ç+" –Ω–∞ —Å–≤–æ–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
                    –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –∏–º –∫–∞–∫ –Ω–∞—Ç–∏–≤–Ω—ã–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º
                </p>
                <div class="d-flex gap-2 justify-content-center flex-wrap">
                    <span class="badge bg-success badge-custom">‚úÖ –ú–∞–Ω–∏—Ñ–µ—Å—Ç</span>
                    <span class="badge bg-success badge-custom">‚úÖ Service Worker</span>
                    <span class="badge bg-success badge-custom">‚úÖ –û—Ñ–ª–∞–π–Ω —Ä–µ–∂–∏–º</span>
                    <span class="badge bg-success badge-custom">‚úÖ iOS –ø–æ–¥–¥–µ—Ä–∂–∫–∞</span>
                </div>
            </div>
        </div>

        <!-- –°–µ—Ç–∫–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ -->
        <div class="features-grid">
            <!-- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ -->
            <div class="card">
                <div class="card-body text-center">
                    <span class="card-icon">üß™</span>
                    <h3 class="card-title">–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ</h3>
                    <p class="card-text">–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç—É PWA, Service Worker –∏ –∫–µ—à–∞</p>
                    <a href="/pwa-test.html" class="btn btn-primary-custom btn-custom w-100">
                        –û—Ç–∫—Ä—ã—Ç—å —Ç–µ—Å—Ç—ã
                    </a>
                </div>
            </div>

            <!-- –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è iOS -->
            <div class="card">
                <div class="card-body text-center">
                    <span class="card-icon">üì±</span>
                    <h3 class="card-title">iOS –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è</h3>
                    <p class="card-text">–ü–æ–¥—Ä–æ–±–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –¥–ª—è iPhone –∏ iPad</p>
                    <a href="/ios-install.html" class="btn btn-primary-custom btn-custom w-100">
                        –û—Ç–∫—Ä—ã—Ç—å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é
                    </a>
                </div>
            </div>

            <!-- –û—Ñ–ª–∞–π–Ω —Å—Ç—Ä–∞–Ω–∏—Ü–∞ -->
            <div class="card">
                <div class="card-body text-center">
                    <span class="card-icon">üì°</span>
                    <h3 class="card-title">–û—Ñ–ª–∞–π–Ω —Ä–µ–∂–∏–º</h3>
                    <p class="card-text">–ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ, –∫–∞–∫ –≤—ã–≥–ª—è–¥–∏—Ç –æ—Ñ–ª–∞–π–Ω —Å—Ç—Ä–∞–Ω–∏—Ü–∞</p>
                    <a href="/offline.html" class="btn btn-primary-custom btn-custom w-100">
                        –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å
                    </a>
                </div>
            </div>

            <!-- –ú–∞–Ω–∏—Ñ–µ—Å—Ç -->
            <div class="card">
                <div class="card-body text-center">
                    <span class="card-icon">üìÑ</span>
                    <h3 class="card-title">–ú–∞–Ω–∏—Ñ–µ—Å—Ç</h3>
                    <p class="card-text">–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è PWA –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è</p>
                    <a href="/manifest.json" target="_blank" class="btn btn-primary-custom btn-custom w-100">
                        –û—Ç–∫—Ä—ã—Ç—å JSON
                    </a>
                </div>
            </div>
        </div>

        <!-- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è -->
        <div class="card mt-4">
            <div class="card-body">
                <h3 class="card-title text-center mb-4">
                    <i class="bi bi-book"></i> –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
                </h3>
                <div class="row g-3">
                    <div class="col-md-4">
                        <div class="d-grid">
                            <a href="https://github.com" class="btn btn-outline-primary">
                                <i class="bi bi-lightning-charge"></i> –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
                                <br><small>PWA-README.md</small>
                            </a>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="d-grid">
                            <a href="https://github.com" class="btn btn-outline-primary">
                                <i class="bi bi-gear"></i> –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ
                                <br><small>PWA-SETUP.md</small>
                            </a>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="d-grid">
                            <a href="https://github.com" class="btn btn-outline-primary">
                                <i class="bi bi-check-square"></i> –ß–µ–∫-–ª–∏—Å—Ç
                                <br><small>PWA-CHECKLIST.md</small>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ -->
        <div class="card">
            <div class="card-body">
                <h3 class="card-title">
                    <i class="bi bi-list-check"></i> –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏
                </h3>
                <ol class="mb-0">
                    <li class="mb-2">
                        <strong>–°–æ–∑–¥–∞–π—Ç–µ –∏–∫–æ–Ω–∫–∏:</strong> 
                        –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ <a href="https://www.pwabuilder.com/imageGenerator" target="_blank">PWABuilder</a> 
                        –∏–ª–∏ —Å–∫—Ä–∏–ø—Ç <code>generate-icons.ps1</code>
                    </li>
                    <li class="mb-2">
                        <strong>–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ:</strong> 
                        –û—Ç–∫—Ä–æ–π—Ç–µ <a href="/pwa-test.html">/pwa-test.html</a> –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –≤—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
                    </li>
                    <li class="mb-2">
                        <strong>–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö:</strong> 
                        –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –Ω–∞ Android (Chrome) –∏ iOS (Safari)
                    </li>
                    <li class="mb-2">
                        <strong>Lighthouse Audit:</strong> 
                        –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∞—É–¥–∏—Ç –≤ Chrome DevTools (—Ü–µ–ª—å: 90+ –±–∞–ª–ª–æ–≤)
                    </li>
                    <li class="mb-0">
                        <strong>HTTPS –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω:</strong> 
                        –†–∞–∑–≤–µ—Ä–Ω–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ HTTPS –¥–ª—è —Ä–∞–±–æ—Ç—ã PWA
                    </li>
                </ol>
            </div>
        </div>

        <!-- –°—Ç–∞—Ç—É—Å -->
        <div class="card text-center">
            <div class="card-body">
                <h4 class="mb-3">–°—Ç–∞—Ç—É—Å PWA</h4>
                <div id="status-container">
                    <div class="spinner-border text-primary" role="status">
                        <span class="visually-hidden">–ü—Ä–æ–≤–µ—Ä–∫–∞...</span>
                    </div>
                    <p class="mt-2">–ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤...</p>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <div class="text-center text-white mt-4 mb-3">
            <p class="mb-1">
                <strong>–û–±—ä–µ–∫—Ç+</strong> - Progressive Web App
            </p>
            <p class="opacity-75">
                <small>–°–æ–∑–¥–∞–Ω–æ —Å ‚ù§Ô∏è –¥–ª—è –≤–∞—à–µ–≥–æ –±–∏–∑–Ω–µ—Å–∞</small>
            </p>
        </div>
    </div>

    <script>
        // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ PWA
        async function checkPWAStatus() {
            const statusContainer = document.getElementById('status-container');
            const results = {
                manifest: false,
                serviceWorker: false,
                offline: false,
                icons: false
            };

            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–∞–Ω–∏—Ñ–µ—Å—Ç–∞
            try {
                const manifestRes = await fetch('/manifest.json');
                results.manifest = manifestRes.ok;
            } catch (e) {}

            // –ü—Ä–æ–≤–µ—Ä–∫–∞ Service Worker
            if ('serviceWorker' in navigator) {
                try {
                    const registration = await navigator.serviceWorker.getRegistration();
                    results.serviceWorker = !!registration;
                } catch (e) {}
            }

            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ñ–ª–∞–π–Ω —Å—Ç—Ä–∞–Ω–∏—Ü—ã
            try {
                const offlineRes = await fetch('/offline.html');
                results.offline = offlineRes.ok;
            } catch (e) {}

            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–∫–æ–Ω–æ–∫
            try {
                const iconRes = await fetch('/images/icons/icon.svg');
                results.icons = iconRes.ok;
            } catch (e) {}

            // –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
            const allGood = Object.values(results).every(v => v);
            
            statusContainer.innerHTML = `
                <div class="row g-2">
                    <div class="col-6">
                        <div class="alert ${results.manifest ? 'alert-success' : 'alert-warning'} mb-0">
                            <i class="bi bi-${results.manifest ? 'check-circle-fill' : 'exclamation-triangle'}"></i>
                            –ú–∞–Ω–∏—Ñ–µ—Å—Ç
                        </div>
                    </div>
                    <div class="col-6">
                        <div class="alert ${results.serviceWorker ? 'alert-success' : 'alert-warning'} mb-0">
                            <i class="bi bi-${results.serviceWorker ? 'check-circle-fill' : 'exclamation-triangle'}"></i>
                            Service Worker
                        </div>
                    </div>
                    <div class="col-6">
                        <div class="alert ${results.offline ? 'alert-success' : 'alert-warning'} mb-0">
                            <i class="bi bi-${results.offline ? 'check-circle-fill' : 'exclamation-triangle'}"></i>
                            –û—Ñ–ª–∞–π–Ω —Ä–µ–∂–∏–º
                        </div>
                    </div>
                    <div class="col-6">
                        <div class="alert ${results.icons ? 'alert-success' : 'alert-warning'} mb-0">
                            <i class="bi bi-${results.icons ? 'check-circle-fill' : 'exclamation-triangle'}"></i>
                            –ò–∫–æ–Ω–∫–∏
                        </div>
                    </div>
                </div>
                <div class="mt-3">
                    ${allGood 
                        ? '<h5 class="text-success"><i class="bi bi-check-circle-fill"></i> –í—Å—ë –≥–æ—Ç–æ–≤–æ!</h5>' 
                        : '<p class="text-warning">‚ö†Ô∏è –ù–µ–∫–æ—Ç–æ—Ä—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ç—Ä–µ–±—É—é—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</p>'}
                </div>
            `;
        }

        // –ó–∞–ø—É—Å–∫ –ø—Ä–æ–≤–µ—Ä–∫–∏
        checkPWAStatus();
    </script>
</body>
</html>
